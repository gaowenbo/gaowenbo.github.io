webpackJsonp([10],{OroG:function(t,i,s){"use strict";var e=s("yt1p");s.n(e).a},f4XR:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.music.audio?s("div",{staticClass:"music",class:t.music.cls,style:t.isHidden,on:{click:t.changeStatus}},[s("img",{staticClass:"music-img",attrs:{src:t.music.img}}),t._v(" "),s("audio",{ref:"music",staticClass:"audio",attrs:{src:t.music.audio,loop:""}})]):t._e()};e._withStripped=!0;s("QBuC");var a=s("XyUQ"),c=s("U8Yf"),n=s("a+wG");var u={props:{cardData:Object,activePage:Number},data:function(){return{isOpen:!1,hasPlayed:!1}},name:"music",computed:{music:function(){var t=this.isOpen,i=this.cardData.music||{},s=i.img,e=i.close_img,a=i.audio;return{img:t?s||"//qnm.hunliji.com/o_1bi67lq091qtt1gfs60cpadqjj7.png":e||"//qnm.hunliji.com/o_1bi67m2q63tilg81vh1q3v10g6c.png",audio:a,cls:t?"music-open":"music-close"}},isHidden:function(){var t=this.cardData,i=this.activePage,s=t.page,e=void 0===s?[]:s;return Object(a.l)(t,i)||Object(a.m)(t,i)||i>e.length-1?{opacity:0,zIndex:-10}:""}},methods:{changeStatus:function(){this.hasPlayed=!0;var t=this.$refs.music;t.paused?(this.isOpen=!0,t.play()):(this.isOpen=!1,t.pause()),Object(a.k)("musicStatePause",this.isOpen?"false":"true")},play:function(){var t=this.$refs.music;this.isOpen=!0,this.hasPlayed||(t.play(),this.hasPlayed=!0)},setOpenStatus:function(){this.isOpen=!0,Object(a.k)("musicStatePause","false")},autoplay:function(){Object(n.m)()||Object(n.g)()||!/Android|webOS|iPhone|iPod|BlackBerry/i.test(window.navigator.userAgent)?Object(c.a)(this.$refs.music,this.setOpenStatus):document.addEventListener("touchstart",this.play)},injectGlobal:function(){var t=this;Object(a.k)({musicPause:function(i){var s=t.$refs.music;i?(t.isOpen=!1,s.pause()):(t.isOpen=!0,s.play())},changeMusic:function(i){i&&(console.log("修改的音乐：",i),t.$refs.music.src=i,t.autoplay())}})}},mounted:function(){this.injectGlobal(),this.autoplay()},beforeDestroy:function(){document.removeEventListener("touchstart",this.play)}},o=(s("OroG"),s("K1/g")),r=Object(o.a)(u,e,[],!1,null,"3e662a31",null);r.options.__file="src/new-card/views/index/music/index.vue";i.default=r.exports},yt1p:function(t,i){}});