webpackJsonp([3],{"+2ln":function(t,e,i){"use strict";var a=i("AA6R"),n=i.n(a),s=i("o69Z"),c=i("rhik"),r=Object(s.g)("info"),o=r[0],l=r[1];function u(t,e,i,a){if(Object(s.c)(e.info)&&""!==e.info)return t("div",n()([{class:l()},Object(c.b)(a,!0)]),[e.info])}u.props={info:[String,Number]};var d=o(u),p=Object(s.g)("icon")[0];function f(t,e,i,a){var s,r=!!(s=e.name)&&-1!==s.indexOf("/");return t(e.tag,n()([{class:[e.classPrefix,r?"van-icon--image":e.classPrefix+"-"+e.name],style:{color:e.color,fontSize:e.size}},Object(c.b)(a,!0)]),[i.default&&i.default(),r&&t("img",{attrs:{src:e.name}}),t(d,{attrs:{info:e.info}})])}f.props={name:String,size:String,color:String,info:[String,Number],tag:{type:String,default:"i"},classPrefix:{type:String,default:"van-icon"}};e.a=p(f)},"/QMK":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-gift",class:t.giftPageCls},[i("div",{staticClass:"gift-bg",style:{backgroundImage:"url("+t.layout.background+"?imageView2/1/w/750/h/1334)"}}),t._v(" "),i("div",{staticClass:"page-gift-warp"},[i("div",{staticClass:"wish-warp"},[t.wishSwiperShow?i("wish-swiper",{attrs:{"active-page":t.activePage,"self-page":t.selfPage,"wish-data":t.wishData,theme:t.theme}}):t._e()],1),t._v(" "),t.giftList&&t.giftList.length?i("div",{staticClass:"gift-warp"},[i("p",{staticClass:"gift-title"},[t._v("送上您的祝福")]),t._v(" "),i("gift-swiper",{attrs:{split:"",theme:t.theme,"send-text":"送礼物","should-update":t.selfPage===t.activePage,"gift-list":t.giftList},on:{sendGiftClick:t.showSendGiftModal}})],1):t._e(),t._v(" "),i("div",{staticClass:"packet-warp"},[i("img",{attrs:{src:"//qnm.hunliji.com/o_1cnr3898tvog1anp75k1l947pv1c.png",alt:""}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"packet-action",style:t.theme,on:{click:t.showPacketModal}},[t._v("\n        送红包\n      ")])])]),t._v(" "),i("redPacket",{attrs:{"card-data":t.cardData,"active-page":t.activePage},model:{value:t.packetVisible,callback:function(e){t.packetVisible=e},expression:"packetVisible"}}),t._v(" "),i("send-gift-modal",{attrs:{visible:t.sendGiftVisible,theme:t.theme,gift:t.selectedGift,"wish-data":t.wishData,"card-data":t.cardData,"active-page":t.activePage},on:{"update:visible":function(e){t.sendGiftVisible=e}}})],1)};a._withStripped=!0;i("QBuC");var n=i("2OMQ"),s=i("L9b5"),c=i("powO"),r={name:"giftPage",props:{selfPage:Number,cardData:Object,wishData:Object,theme:Object,activePage:Number,layout:Object,giftList:Array},data:function(){return{packetVisible:!1,sendGiftVisible:!1,selectedGift:{}}},computed:{wishSwiperShow:function(){var t=(this.wishData||{}).gifts;return t&&t.length},giftPageCls:function(){var t=this.packetVisible,e=this.sendGiftVisible;return t||e?" swiper-no-swiping":""}},methods:{showPacketModal:function(){this.packetVisible=!this.packetVisible},showSendGiftModal:function(t){this.selectedGift=t,this.sendGiftVisible=!this.sendGiftVisible}},components:{giftSwiper:n.a,redPacket:s.a,sendGiftModal:c.a,wishSwiper:function(){return i.e(16).then(i.bind(null,"XeDX"))}}},o=(i("388d"),i("K1/g")),l=Object(o.a)(r,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"packet-desc"},[e("p",[this._v("结婚红包")]),this._v(" "),e("p",[this._v("红包轻松送，何必取现金")])])}],!1,null,"3968fd65",null);l.options.__file="src/new-card/views/index/pages/gift/index.vue";e.default=l.exports},"2OMQ":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.gifts&&t.gifts.length?i("div",{staticClass:"gift-swiper"},[i("div",{ref:"giftSwiper",staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},t._l(t.gifts,function(e,a){return i("div",{key:a,staticClass:"swiper-slide"},t._l(e,function(e){return i("div",{key:e.id,staticClass:"gift-item"},[i("div",{staticClass:"item-content",class:t.selectedGift.id===e.id?"item-content-select":"",style:t.selectedGift.id===e.id?t.selectedItemStyle:"",on:{click:function(i){return t.selectGift(e.id)}}},[i("img",{staticClass:"gift-img",attrs:{src:e.icon2}}),t._v(" "),i("span",{staticClass:"gift-title"},[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"gift-price"},[t._v("￥"+t._s(e.price))]),t._v(" "),i("span",{staticClass:"selected-flag",style:t.selectedGift.id===e.id?t.selectedFlagStyle:""})])])}),0)}),0),t._v(" "),i("div",{staticClass:"swiper-pagination"})]),t._v(" "),i("div",{staticClass:"selected",class:t.split?"selected-split":""},[i("div",{staticClass:"desc"},[i("img",{attrs:{src:t.selectedGift.icon}}),t._v(" "),i("span",{style:{color:t.selectedGift.color}},[t._v(" "+t._s(t.selectedGift.desc)+" ")])]),t._v(" "),i("div",{staticClass:"action",style:t.theme,on:{click:t.sendGift}},[t._v(t._s(t.sendText))])])]):t._e()};a._withStripped=!0;i("zmx7"),i("A0n/"),i("fx22"),i("WgSQ"),i("gYYG"),i("tJwI");var n=i("a+wG"),s=i("XyUQ");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={name:"gift-swiper",props:{split:Boolean,theme:Object,shouldUpdate:Boolean,giftList:{type:Array,default:function(t){return t||[]}},sendText:{type:String,default:"赠送礼物"}},data:function(){return{giftSwiper:null,allGiftList:this.giftList}},watch:{shouldUpdate:function(t){t&&this.giftSwiper&&this.giftSwiper.update()}},computed:{gifts:function(){var t=this.allGiftList;return Object(n.r)(t,8)},selectedGift:function(){var t=this.allGiftList,e=t[0]||{};t.forEach(function(t){+t.is_select&&(e=t)});var i=e,a=i.insurance_desc,n=i.insurance_type,c=i.id;return+n?{id:c,color:"#578afe",desc:a,icon:"//qnm.hunliji.com/o_1d3niqlan30sgkdfhceqo2a.png",data:e}:{id:c,color:"#f83244",desc:"小主放心送，礼物金额将全部转至新人的".concat(Object(s.g)(),"账户"),icon:"//qnm.hunliji.com/o_1d3niqlan1g7v191sciauodt4jb.png",data:e}},selectedItemStyle:function(){return{borderColor:this.theme.backgroundColor}},selectedFlagStyle:function(){return{background:this.theme.backgroundColor}}},methods:{initGiftSwiper:function(){var t=this;this.$nextTick(function(){t.gifts.length&&(t.giftSwiper?t.giftSwiper.update():t.giftSwiper=new window.Swiper(t.$refs.giftSwiper,{pagination:{el:".swiper-pagination"}}))})},selectGift:function(t){this.allGiftList=this.allGiftList.map(function(e){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(i,!0).forEach(function(e){r(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},e,{is_select:e.id===t?"1":"0"})})},sendGift:function(){this.selectedGift.data&&this.$emit("sendGiftClick",this.selectedGift.data)}},mounted:function(){this.initGiftSwiper()}},l=(i("qaCC"),i("K1/g")),u=Object(l.a)(o,a,[],!1,null,"61c0280b",null);u.options.__file="src/new-card/components/giftSwiper/index.vue";e.a=u.exports},"388d":function(t,e,i){"use strict";var a=i("T6mc");i.n(a).a},"5VwN":function(t,e){},"Bu8/":function(t,e){},L9b5:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"red-packet"},[i("h-popup",{style:t.popupStyle,attrs:{"close-on-click-overlay":!1,"show-close":!1,"get-container":"#wrapper"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("div",{ref:"packetWarp",staticClass:"red-packet-warp"},[i("div",{staticClass:"shade"},[i("i",{staticClass:"close-icon",on:{click:t.close}}),t._v(" "),i("img",{attrs:{src:"https://qnm.hunliji.com/o_1cnqha7qv1p551v8uu6g1ogml7p17.png"}})]),t._v(" "),i("transition",{attrs:{name:"slide-in-down",appear:""}},[t.visible?i("img",{ref:"money",staticClass:"money",attrs:{src:"https://qnm.hunliji.com/o_1cnoi2dj51i6vhr61j2t1vt01rj7l.png"}}):t._e()]),t._v(" "),i("div",{staticClass:"action-warp"},[i("div",{staticClass:"packet-input name",on:{click:function(e){return t.focus("nameInput")}}},[i("span",[t._v("赠送人：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.packet.name,expression:"packet.name"}],ref:"nameInput",attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:t.packet.name},on:{input:function(e){e.target.composing||t.$set(t.packet,"name",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"packet-input money-sum",on:{click:function(e){return t.focus("moneyInput")}}},[i("span",[t._v("礼金金额：")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.packet.money,expression:"packet.money"}],ref:"moneyInput",attrs:{placeholder:"请输入礼金金额",type:"number"},domProps:{value:t.packet.money},on:{input:function(e){e.target.composing||t.$set(t.packet,"money",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"tip"},[t._v("礼金金额全部转至新人的"+t._s(t.type)+"账户~")]),t._v(" "),i("div",{ref:"sendBut",staticClass:"save-money",on:{click:t.getPayInfo}})])],1)]),t._v(" "),i("pay-modal",{attrs:{"card-data":t.cardData},on:{ok:t.pay},model:{value:t.payModalVisible,callback:function(e){t.payModalVisible=e},expression:"payModalVisible"}})],1)};a._withStripped=!0;i("y9m4"),i("gYYG"),i("SldL");var n=i("yCkY"),s=(i("EuXz"),i("QBuC"),i("XyUQ")),c=i("a+wG"),r=i("n9rW"),o=i("oOFt"),l=i("uvZt");function u(t,e,i,a,n,s,c){try{var r=t[s](c),o=r.value}catch(t){return void i(t)}r.done?e(o):Promise.resolve(o).then(a,n)}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p={name:"redPacket",props:{visible:Boolean,cardData:Object,activePage:Number},model:{prop:"visible",event:"change"},data:function(){return{packet:{name:"",money:""},type:Object(s.g)(),payModalVisible:!1,payInfo:null,popupStyle:{left:0,right:0,top:0,bottom:0,transform:"none",background:"none",position:"absolute"}}},watch:{visible:function(t){if(t)this.packet={name:(Object(c.d)(s.c)||"")+"",money:(Object(c.d)("red-packet-money")||"")+""},Object(s.q)({tag:"priceShow"});else{var e,i=this.packet,a=i.name,n=i.money;Object(c.q)((d(e={},s.c,a),d(e,"red-packet-money",n),e))}}},methods:{focus:function(t){this.$refs[t].focus()},close:function(){this.$emit("change",!1)},verified:function(){var t=this.packet,e=t.name,i=t.money;return Object(c.n)()||!Object(c.m)()?(Object(n.a)("请在微信客户端进行支付操作"),!1):e.trim()?e.length>15?(Object(n.a)("姓名不能超过15个字符"),!1):i.trim()?Object(c.j)(+i)?+i<1?(Object(n.a)("礼金金额不能小于1元"),!1):!(+i>3e3)||(Object(n.a)("已超出微信单笔支付3000元的限额，请调整金额后再试"),!1):(Object(n.a)("礼金金额输入不合法"),!1):(Object(n.a)("请输入礼金金额"),!1):(Object(n.a)("请填写姓名"),!1)},pay:function(){var t=this.packet,e=t.name,i=t.money,a=this.payInfo,n=this.activePage;Object(s.s)({activePage:n,params:{type:"cash",payMoney:i,sendUser:e,card_id:Object(c.c)("card_id")},data:JSON.parse(a)})},getPayInfo:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,i,a,n,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.packet,i=e.name,a=e.money,!this.verified()){t.next=10;break}return this.close(),t.next=5,Object(o.g)({cardId:Object(c.c)("card_id"),currentTime:(new Date).getTime(),giverName:i,price:a,openId:Object(r.a)(s.d)});case 5:n=t.sent,l=n.payParams,Object(s.q)({tag:"cash_gift"}),this.payInfo=l,this.payModalVisible=!0;case 10:case"end":return t.stop()}},t,this)}),function(){var e=this,i=arguments;return new Promise(function(a,n){var s=t.apply(e,i);function c(t){u(s,a,n,c,r,"next",t)}function r(t){u(s,a,n,c,r,"throw",t)}c(void 0)})});return function(){return e.apply(this,arguments)}}(),scrollIntoView:function(){var t=this;this.timer=setTimeout(function(){var e=t.$refs,i=e.sendBut,a=e.packetWarp,n=e.money;i&&i.scrollIntoViewIfNeeded&&a&&a.style&&n&&n.style&&(a.style.zIndex=99,n.style.zIndex=-1,i.scrollIntoViewIfNeeded(!1)),clearTimeout(t.timer)},0)}},mounted:function(){Object(c.f)()&&window.addEventListener("resize",this.scrollIntoView)},beforeDestroy:function(){Object(c.f)()&&window.removeEventListener("resize",this.scrollIntoView)},components:{payModal:l.a}},f=(i("otHG"),i("K1/g")),v=Object(f.a)(p,a,[],!1,null,"c538c3a8",null);v.options.__file="src/new-card/components/redPacket/index.vue";e.a=v.exports},Oahm:function(t,e){},T6mc:function(t,e){},bHJx:function(t,e,i){"use strict";var a=i("vWPY");i.n(a).a},dpk4:function(t,e,i){"use strict";var a=i("Oahm");i.n(a).a},otHG:function(t,e,i){"use strict";var a=i("Bu8/");i.n(a).a},pjZV:function(t,e,i){"use strict";var a=i("qQPn");i.n(a).a},powO:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h-popup",{staticStyle:{background:"none"},attrs:{value:t.visible,"get-container":"body"},on:{"close-icon-click":t.close,"click-overlay":t.close}},[i("div",{staticClass:"gift-send"},[i("div",{staticClass:"title"},[t._v("送礼物")]),t._v(" "),i("div",{staticClass:"send-info"},[i("h-key-val",{attrs:{label:"赠送的礼物"}},[t._v(t._s(t.gift.title)+"（￥"+t._s(t.gift.price)+"）")])],1),t._v(" "),i("div",{staticClass:"send-info"},[i("h-key-val",{attrs:{label:"赠送人"}},[i("div",{staticClass:"send-name"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"请填写您的姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])],1),t._v(" "),i("div",{staticClass:"send-ok"},[i("h-button",{style:t.theme,attrs:{block:""},on:{click:t.getPayInfo}},[t._v(" 确定 ")])],1)])]),t._v(" "),i("pay-modal",{attrs:{"card-data":t.cardData},on:{ok:t.pay},model:{value:t.payModalVisible,callback:function(e){t.payModalVisible=e},expression:"payModalVisible"}})],1)};a._withStripped=!0;i("y9m4"),i("gYYG"),i("SldL");var n=i("yCkY"),s=(i("EuXz"),i("QBuC"),i("oOFt")),c=i("XyUQ"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"label-wrap"},[i("div",{staticClass:"label"},[t.required?i("span",{staticClass:"red"},[t._v("*")]):t._e(),t._v(" "),i("span",[t._v(t._s(t.label))]),t._v(" "),t.split?i("span",[t._v("：")]):t._e()]),t._v(" "),i("div",{staticClass:"content"},[t._t("default")],2)])};r._withStripped=!0;var o={name:"h-key-val",props:{label:String,split:{type:Boolean,default:function(){return!0}},required:{type:Boolean,default:function(){return!0}}}},l=(i("bHJx"),i("K1/g")),u=Object(l.a)(o,r,[],!1,null,"30517205",null);u.options.__file="src/new-card/components/keyVal/index.vue";var d=u.exports,p=i("a+wG"),f=i("n9rW"),v=i("uvZt");function m(t,e,i,a,n,s,c){try{var r=t[s](c),o=r.value}catch(t){return void i(t)}r.done?e(o):Promise.resolve(o).then(a,n)}var g={name:"send-gift-modal",props:{visible:Boolean,theme:Object,gift:Object,wishData:Object,cardData:Object,activePage:Number},data:function(){return{name:"",payInfo:null,payModalVisible:!1}},watch:{visible:function(t){t?(this.name=(Object(p.d)(c.c)||"")+"",Object(c.q)({tag:"giftshow2"})):Object(p.q)(c.c,this.name)}},methods:{close:function(){this.$emit("update:visible",!1)},pay:function(){var t=this.gift,e=t.title,i=t.price,a=t.icon2,n=this.name,s=this.payInfo,r=this.activePage;Object(c.s)({activePage:r,params:{type:"gift",payGift:e,payMoney:i,sendUser:n,card_id:Object(p.c)("card_id"),imgUrl:a},data:JSON.parse(s)})},verified:function(){var t=this.name;return Object(p.n)()||!Object(p.m)()?(Object(n.a)("请在微信客户端进行支付操作"),!1):t.trim()?!(t.length>=15)||(Object(n.a)("姓名不能超过15个字符"),!1):(Object(n.a)("请填写姓名"),!1)},getPayInfo:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,i,a,n,r,o,l,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.verified()){t.next=11;break}return e=this.name,i=this.gift,a=i.id,n=i.icon2,r=i.price,o=this.wishData.user_id,t.next=6,Object(s.f)({currentTime:(new Date).getTime(),cardId:Object(p.c)("card_id"),giverName:e,giftId:a,userId:o,wishes:"祝你们爱情永驻，甜蜜幸福",giftImg:n,openId:Object(f.a)(c.d)});case 6:l=t.sent,u=l.payParams,Object(c.q)({tag:"gift"}),this.payInfo=u,+r>=50?this.payModalVisible=!0:this.pay();case 11:case"end":return t.stop()}},t,this)}),function(){var e=this,i=arguments;return new Promise(function(a,n){var s=t.apply(e,i);function c(t){m(s,a,n,c,r,"next",t)}function r(t){m(s,a,n,c,r,"throw",t)}c(void 0)})});return function(){return e.apply(this,arguments)}}()},components:{payModal:v.a,hKeyVal:d}},h=(i("pjZV"),Object(l.a)(g,a,[],!1,null,"75fe7f68",null));h.options.__file="src/new-card/components/sendGiftModal/index.vue";e.a=h.exports},qQPn:function(t,e){},qaCC:function(t,e,i){"use strict";var a=i("wIVg");i.n(a).a},uvZt:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h-popup",{staticStyle:{background:"none"},attrs:{"close-on-click-overlay":!1,"get-container":"body"},on:{"close-icon-click":t.close},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("div",{staticClass:"pay-modal"},[i("div",{staticClass:"content"},[i("p",{staticClass:"title"},[t._v("请确认：")]),t._v(" "),i("p",{staticClass:"person bridegroom"},[i("span",[t._v("新郎")]),t._v(" "),i("span",[t._v(t._s(t.cardInfo.groom_name))])]),t._v(" "),i("p",{staticClass:"person bride"},[i("span",[t._v("新娘")]),t._v(" "),i("span",[t._v(t._s(t.cardInfo.bride_name))])]),t._v(" "),i("p",{staticClass:"desc"},[t._v("是否是您的真实亲友")]),t._v(" "),i("div",{staticClass:"warn"},[i("span",[t._v("任何返利、抽奖活动均是诈骗行为，切勿相信")])])]),t._v(" "),i("div",{staticClass:"action"},[i("div",{staticClass:"cancel",on:{click:t.close}},[t._v("否")]),t._v(" "),i("div",{staticClass:"ok",on:{click:t.ok}},[t._v("是")])])])])};a._withStripped=!0;var n={name:"pay-modal",props:{visible:Boolean,cardData:Object},model:{prop:"visible",event:"change"},data:function(){return{checked:!1}},computed:{cardInfo:function(){return this.cardData.cardInfo||{}}},methods:{close:function(){this.$emit("change",!1)},ok:function(){this.$emit("ok",!1),this.close()}}},s=(i("dpk4"),i("K1/g")),c=Object(s.a)(n,a,[],!1,null,"c6ad0a30",null);c.options.__file="src/new-card/components/payModal/index.vue";e.a=c.exports},vWPY:function(t,e){},wIVg:function(t,e){},yCkY:function(t,e,i){"use strict";i("dkCF"),i("xCzi"),i("5VwN");var a=i("RfZZ"),n=i("lRwf"),s=i.n(n),c=i("o69Z"),r=i("CsZI"),o=i("+2ln"),l=i("pIDD"),u=Object(c.g)("toast"),d=u[0],p=u[1],f=["success","fail","loading"],v=d({mixins:[r.a],props:{className:null,forbidClick:Boolean,message:[String,Number],type:{type:String,default:"text"},loadingType:{type:String,default:"circular"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickale()},destroyed:function(){this.toggleClickale()},watch:{value:function(){this.toggleClickale()},forbidClick:function(){this.toggleClickale()}},methods:{toggleClickale:function(){var t=this.value&&this.forbidClick;if(this.clickable!==t){this.clickable=t;var e=t?"add":"remove";document.body.classList[e]("van-toast--unclickable")}}},render:function(t){var e=this,i=this.type,a=this.message,n=-1!==f.indexOf(i)?"default":i;return t("transition",{attrs:{name:"van-fade"}},[t("div",{directives:[{name:"show",value:this.value}],class:[p([n,this.position]),this.className]},[function(){switch(n){case"text":return t("div",[a]);case"html":return t("div",{domProps:{innerHTML:a}});default:return["loading"===i?t(l.a,{attrs:{color:"white",type:e.loadingType}}):t(o.a,{class:p("icon"),attrs:{name:i}}),Object(c.c)(a)&&t("div",{class:p("text")},[a])]}}()])])}}),m={type:"text",mask:!1,value:!0,message:"",className:"",onClose:null,duration:3e3,position:"middle",forbidClick:!1,loadingType:"circular",getContainer:"body",overlayStyle:null},g=function(t){return Object(c.e)(t)?t:{message:t}},h=[],b=!1,y=Object(a.a)({},m);function _(t){void 0===t&&(t={});var e=function(){if(c.f)return{};if(!h.length||b){var t=new(s.a.extend(v))({el:document.createElement("div")});h.push(t)}return h[h.length-1]}();return e.value&&e.updateZIndex(),t=Object(a.a)({},y,g(t),{clear:function(){if(e.value=!1,t.onClose&&t.onClose(),b&&!c.f){clearTimeout(e.timer),h=h.filter(function(t){return t!==e});var i=e.$el.parentNode;i&&i.removeChild(e.$el),e.$destroy()}}}),Object(a.a)(e,function(t){return t.overlay=t.mask,t}(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout(function(){e.clear()},t.duration)),e}["loading","success","fail"].forEach(function(t){var e;_[t]=(e=t,function(t){return _(Object(a.a)({type:e},g(t)))})}),_.clear=function(t){h.length&&(t?(h.forEach(function(t){t.clear()}),h=[]):b?h.shift().clear():h[0].clear())},_.setDefaultOptions=function(t){Object(a.a)(y,t)},_.resetDefaultOptions=function(){y=Object(a.a)({},m)},_.allowMultiple=function(t){void 0===t&&(t=!0),b=t},_.install=function(){s.a.use(v)},s.a.prototype.$toast=_;var w=_;w.setDefaultOptions({duration:1e3});e.a=w}});